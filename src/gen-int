function include-type {
	
	if test -f type.hpp
	then
		
		echo '# include "'"${1}/"'type.hpp"'
		
	fi
	
}

function include-struct {
	
	if test -f struct.hpp
	then
		
		echo '# include "'"${1}/"'struct.hpp"'
		
	fi
	
}

function include-constants {
	
	for file in $(list-constants)
	do
		
		echo '# include "'"${1}/${file}"'"'
		
	done
	
}

function declare-functions {
	
	for file in $(list-functions)
	do
		
		get-function-declaration ${file} | sed -e 's~^~  ~'
		
	done
	
}

function include-functions {
	
	for file in $(list-functions)
	do
		
		echo '# include "'"${1}/${file}"'"'
		
	done
	
}

function namespace-stuff {
	
	namespace-do include-type .
	echo ''
	namespace-do include-constants .
	echo ''
	namespace-do include-struct .
	echo ''
	namespace-do declare-functions .
	echo ''
	namespace-do include-functions .
	
}

includeguard="$(get-prefix | upcase)"'_HPP'

echo '#ifndef '"${includeguard}"
echo '#define '"${includeguard}"
echo ''
echo '#include "./include.hpp"'
echo ''

wrap "namespace-stuff"

echo ''

if test -f main.hpp
then
	
	echo '#include "main.hpp"'
	echo ''
	
else
	
	pseudo-namespace-do export-public-functions
	
fi

echo '#endif /* '"${includeguard}"' */'
