function import-public-type {
	
	if test -f type.hpp
	then
		
		if grep -l "${pragmaregex}" type.hpp
		then
			
			get-typedef
			
		fi
		
	fi
	
}

function import-public-struct {
	
	if test -f struct.hpp
	then
		
		if grep -l "${pragmaregex}" struct.hpp
		then
			
			get-struct
			
		fi
		
	fi
	
}

function declare-public-constants {
	
	for file in $(list-public-constants)
	do
		
		get-constant-definition "${file}"
		
	done
	
}

function declare-public-functions {
	
	set-directory-state
	
	for file in $(list-public-functions)
	do
		
		local name="$(get-function-name "${file}")"
		
		echo 'extern "C"'
		get-function-declaration ${file}
		
	done
	
}

function namespace-stuff {
	
	namespace-do import-public-type .
	echo ''
	namespace-do import-public-struct .
	echo ''
	namespace-do declare-public-constants .
	echo ''
	namespace-do declare-public-functions .
	
}

includeguard="$(get-prefix | upcase)"'_HPP'

echo '#ifndef '"${includeguard}"
echo '#define '"${includeguard}"
echo ''

wrap "namespace-stuff"

echo ''
echo '#endif /* '"${includeguard}"' */'
